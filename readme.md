# 🎯 Tactics SRPG - 이소메트릭 전략 RPG 게임

## 📋 프로젝트 개요

기획서를 바탕으로 구현된 이소메트릭 전략 RPG 게임입니다.

### 🎮 핵심 기능

#### ✅ 구현 완료된 기능들

1. **턴제 전투 시스템**
   - 플레이어 턴 → 적 턴 → 환경 턴 순서
   - 민첩도 기반 행동 순서 결정
   - 턴별 이동/공격 제한

2. **지형 시스템**
   - 8가지 지형 타입 (평지, 산, 숲, 늪, 사막, 바위, 불타는 땅, 얼어붙은 땅)
   - 높이 시스템과 전략적 우위
   - 지형별 이동 코스트 적용
   - 시야 제한 및 은신 효과

3. **캐릭터 시스템**
   - 6개 클래스 (Soldier → Knight, Archer → Sniper, Mage → ArchMage)
   - 적성 시스템 (S, A, B, C, D 등급)
   - 레벨업 시 성장률 기반 스탯 증가
   - 클래스 체인지 조건 확인

4. **스킬 시스템**
   - 10개 스킬 (물리/마법 공격, 지원 효과)
   - 사거리와 위력 설정
   - 환경 상호작용 (화염마법+숲 = 불타는 땅)

5. **외부 전황 시뮬레이션**
   - 전투 중 외부 이벤트 발생
   - 정보의 신선도 개념
   - 빠른 전투 종료 시 정보 유지 이점

6. **전투 UI**
   - 캐릭터 정보 표시 (HP/MP 바)
   - 이동/공격/스킬/턴 종료 버튼
   - 턴 정보 및 카운터

#### 🚧 개발 중/계획된 기능들

1. **시각적 개선**
   - 이소메트릭 타일 스프라이트
   - 캐릭터 애니메이션
   - 스킬 이펙트

2. **고급 AI**
   - 적 AI 패턴 다양화
   - 지형 활용 전략

3. **추가 게임 모드**
   - 스토리 모드
   - 캐릭터 육성 시스템

## 🎯 게임 플레이 방법

### 기본 조작

1. **캐릭터 선택**: 플레이어 캐릭터(파란색 원)을 클릭
2. **이동**: "이동" 버튼 클릭 → 이동 가능한 타일(녹색 하이라이트) 클릭
3. **공격**: "공격" 버튼 클릭 → 공격 가능한 타일(빨간색 하이라이트) 클릭
4. **스킬**: "스킬" 버튼 클릭 → 스킬 범위(보라색 하이라이트) 내 타일 클릭
5. **턴 종료**: "턴 종료" 버튼으로 적 턴 시작

### 카메라 조작

6. **카메라 이동**: WASD 키 또는 화살표 키로 맵 탐험
7. **줌 인/아웃**: 마우스 휠로 확대/축소 (0.3배 ~ 2.0배)
8. **맵 크기**: 40x30 타일의 대형 맵 (기존 20x15에서 확장)

### 시각적 가이드

- **지형 색상**: 
  - 🟢 연한 녹색: 평지
  - 🔘 회색: 산
  - 🌲 진한 녹색: 숲
  - 🟤 갈색: 늪
  - 🟡 모래색: 사막
  - ⚫ 진한 회색: 바위지대
  - 🔴 빨간색: 불타는 땅
  - 🔵 하늘색: 얼어붙은 땅

- **캐릭터**:
  - 🔵 파란색 원: 플레이어 캐릭터
  - 🔴 빨간색 원: 적 캐릭터

- **고저차 표시**:
  - 높은 지형일수록 밝은 색상
  - 낮은 지형일수록 어두운 색상
  - 높이 값이 타일에 숫자로 표시

### 전략 팁

1. **지형 활용**
   - 산에서 공격하면 명중률과 데미지 증가
   - 숲에서는 은신 가능
   - 늪은 이동 속도 감소

2. **고저차 전략**
   - 높은 곳에서 공격 시 데미지 보너스
   - 낮은 곳에서는 방어력 증가
   - 지형 높이차를 활용한 전략적 배치

3. **환경 상호작용**
   - 마른 지형에서 화염마법 → 추가 데미지
   - 젖은 지형에서 번개마법 → 감전 상태

4. **클래스 체인지**
   - 적성 S등급 달성 시 상위 클래스 전직 가능
   - Soldier → Knight, Archer → Sniper, Mage → ArchMage

5. **카메라 활용**
   - 전체 맵을 탐험하여 유리한 지형 파악
   - 줌아웃으로 전체 전략 수립
   - 적의 배치를 미리 확인

## 📁 파일 구조

```
scripts/
├── GameData.gd          # 게임 데이터 (클래스, 스킬, 지형)
├── GameManager.gd       # 게임 상태 관리 (턴제, 전투 흐름)
└── Character.gd         # 캐릭터 클래스 (스탯, 스킬, 성장)

scenes/
├── BattleScene.tscn     # 메인 전투 씬
├── BattleScene.gd       # 전투 제어 로직
└── BattleGrid.gd        # 이소메트릭 그리드 시스템
```

## 🔧 기술 스택

- **엔진**: Godot 4.4
- **언어**: GDScript
- **아키텍처**: 싱글톤 패턴 (GameData, GameManager)
- **그래픽**: 2D 이소메트릭

## 🚀 다음 개발 단계

### 단계 1: 시각적 개선
- [ ] 이소메트릭 타일 스프라이트 제작
- [ ] 캐릭터 스프라이트 및 애니메이션
- [ ] 스킬 이펙트 및 UI 개선

### 단계 2: 게임플레이 확장
- [ ] 더 많은 스킬 및 클래스 추가
- [ ] 장비 시스템
- [ ] 경험치 및 아이템 시스템

### 단계 3: 콘텐츠 추가
- [ ] 스토리 모드
- [ ] 다양한 맵 및 시나리오
- [ ] 보스 전투 시스템

## 🎨 아트 가이드라인

- **스타일**: 2D 픽셀 아트
- **시점**: 이소메트릭 (45도 각도)
- **해상도**: 32x32 픽셀 타일
- **색상**: 환상적이고 밝은 색조

## 🔥 특별한 기능들

### 동적 전장 시뮬레이션
- 전투 중에도 외부 상황이 변화
- 정보의 신선도에 따른 전략적 이점
- 빠른 전투 종료의 중요성

### 환경 상호작용
- 스킬과 지형의 조합으로 새로운 효과
- 화염마법으로 숲을 불타는 땅으로 변화
- 지형 상태에 따른 추가 데미지

### 적성 기반 성장
- 캐릭터마다 고유한 성장 경향
- 적성에 맞는 클래스 선택의 중요성
- 전략적 캐릭터 육성

---

게임을 실행하려면 Godot 엔진에서 프로젝트를 열고 실행하세요!

## 🔧 현재 해결된 문제들

- ✅ 타일 시각화: 색깔로 구분되는 8가지 지형 타입
- ✅ 캐릭터 표시: 파란색(아군), 빨간색(적군) 원으로 표시
- ✅ 하이라이트 시스템: 이동/공격 가능 범위 표시
- ✅ 마우스 입력: 타일 클릭과 캐릭터 선택 지원
- ✅ 캐릭터 선택 개선: 마우스 클릭으로 캐릭터 선택 가능
- ✅ UI 업데이트: 캐릭터 정보가 왼쪽 하단에 실시간 표시
- ✅ 자동 이동 범위 표시: 캐릭터 선택 시 이동 가능 범위 자동 표시
- ✅ 입력 처리 오류 수정: is_handled() 함수 오류 해결
- ✅ 디버깅 개선: 상세한 로그로 이동/공격 문제 추적 가능
- ✅ **NEW** 고저차 맵 시스템: 40x30 크기의 대형 맵으로 확장
- ✅ **NEW** 랜덤 고저차 생성: 노이즈 기반 자연스러운 지형 생성
- ✅ **NEW** 높이 시각화: 높이에 따른 색상 변화와 숫자 표시
- ✅ **NEW** 카메라 이동 시스템: WASD/화살표 키로 맵 탐험
- ✅ **NEW** 카메라 줌: 마우스 휠로 0.3배~2.0배 줌

## 🎮 플레이 방법

1. **게임 시작**: 3명의 아군(Elena, Mira, Finn)과 2명의 적군이 배치됩니다
2. **캐릭터 선택**: 파란색 캐릭터를 마우스로 클릭하여 선택
3. **이동**: "이동" 버튼 클릭 → 녹색으로 표시된 이동 가능 타일 클릭
4. **공격**: "공격" 버튼 클릭 → 빨간색으로 표시된 공격 가능 타일 클릭
5. **스킬**: "스킬" 버튼 클릭 → 보라색으로 표시된 스킬 범위 내 타일 클릭

💡 **이동이 안 되는 경우**: 콘솔 로그를 확인하여 이동 범위나 장애물 문제를 파악할 수 있습니다. 
